## К какой классификации относится MongoDB? Какие основные отличия от РСУБД.

Mongo DB относится к документо-ориентированным NO-SQL базам данныех.

Отличия от РСУБД:

- **Модель данных**: MongoDB использует для хранения коллекции структурированных BSON-объектов.
- **Гибкая схема**: в MongoDB отсутствует строгая схема данных, объекты могут иметь разное количество полей.
- **Язык запросов**: в MongoDB используется собственный язык запросов, состоящий из методов и операторов, который
  принимает на вход объекты, похожие на JSON.
- **Транзакции**: MongoDB поддерживает атомарное изменение документа, транзакции на уровне replicaSet и распределенные
  транзакции на уровне шаридоравнного кластера.
- **Горизонтальное масштабирование**: MongoDB легко масштабируется путем добавления дополнительных серверов, которые
  легко синхронизовать между собой.

## Приведите позитивные и негативные сценарии использования MongoDB

**Позитивные сценарии**:

1. Слабосвязанные данные без чёткой схемы хранения.
2. Данные без определённой заранее структуры хранения.

**Негативные сценарии**:

1. Приложения с заранее определенной структурой данных.
2. Приложения с сильносвязанной структурой данных.

## В чем отличие BSON от JSON?

BSON (binary json) - это JSON, представляемый в бинарном формате.
Он является более компактным, благодаря чему его удобнее хранить и передавать по сети.

1. JSON - текстовый формат, BSON - бинарный формат
2. BSON поддерживает двоичные данные и даты
3. BSON индексирует весь контент и пропускает тот, который не должен использоваться (например, данные без значений)

## Read/Write Concern

Опция `readConcern` позволяет контролировать консистентность и изоляцию данных при чтении из шардов реплика-сетов.

*Уровни Read Concern:*

1. `"local"` (по умолчанию) - операция чтения считается успешной, когда данные успешно прочитаны с текущего узла, без
   гарантии того, что данные были реплецированы на другие узлы.
2. `"available"` - Операция чтения считается успешной, если данные доступны хотя бы на одном узле репликационного
   набора.
   Кроме того, он недоступен для использования с сеансами, которые поддерживают последовательное выполнение и
   транзакции.
3. `"majority"` - операция чтения считается успешной, когда данные были подтверждены на большинстве узлов реплика-сета.
4. `"linearizable"` - этот уровень обеспечивает гарантию того, что операция чтения данных будет видна как атомарная и
   последовательная операция в отношении других операций и чтения в базе.
5. `"snapshot"` - этот уровень гарантирует, что операция чтения вернет данные, которые были подтверждены большинством
   узлом replica-set и представляют собой "снимок" данных в каком-то моменте прошлого.

Write Concern описывает уровень гарантии, который система должна иметь в отношении успешного выполнения операции записи
данных.
Он учитывает, сколько узлов в репликационном наборе должны подтвердить запись, прежде чем система считает операцию
успешной. Вот основные уровни уровня записи:

Write Concern определяется 3-мя свойствами: `{ w: <value>, j: <boolean>, wtimeout: <number> }`

1. `"w: acknowledged"` (по умолчанию): Этот уровень записи означает, что операция записи считается успешной, когда
   данные записаны на текущем узле. В этом случае, MongoDB не ждет подтверждения от других узлов.'

2. `"w: 1`: Операция записи считается успешной, когда данные записаны на текущем узле и получено подтверждение (
   acknowledgment) от хотя бы одного другого узла в репликационном наборе.

3. `"w: "majority"`: Этот уровень записи гарантирует, что данные успешно записаны на большинстве (majority) узлов в
   репликационном наборе. Он обеспечивает наивысший уровень гарантии целостности данных.

4. `"w: custom"`: Вы можете установить пользовательский уровень записи, указав количество узлов, которые должны
   подтвердить запись. Например, "w: 3" требует подтверждение записи от трех узлов.

5. `"j: true"` или `"j: false"`: Параметр "j" (journaling) определяет, должны ли записи быть записаны в журнал (journal)
   на диске до подтверждения операции. "j: true" обеспечивает долгосрочную сохранность данных.


## Что такое replica set?

Replica Set - это способ масштабирования Mongo DB серверов.
Он состоит из набора MongoDB серве ров, которые хранят одни и те же данные.
Внутри реплика-сета один сервер является основным, а все остальные вторичными.
На вторичные сервера копируются данные из главного сервера.
В случае сбоя или недоступности основого сервра, система автоматически продолжит обрабатывать операции чтения и записи с
использованием вторичных серверов.



