# Optional

## Для чего нужен класс `Optional<T>`?

Класс Optional<T> в языке программирования Java представляет контейнер, который может содержать значение типа T или быть
пустым (null). Он используется для обработки ситуаций, когда значение может отсутствовать и предоставляет удобный способ
работы с такими ситуациями, необходимый для избежания ошибок NullPointerException.

Преимущества использования Optional<T> включают:

1. Понятный код: Optional<T> позволяет явно указать, что значение может быть отсутствующим, что делает код более
   понятным и самодокументируемым.

2. Защита от ошибок: Использование Optional<T> помогает предотвратить ошибки NullPointerException. Если значение
   отсутствует, методы Optional<T> просто возвращают пустой Optional, и вы можете обработать это в коде без
   возникновения исключений.

3. Явное обозначение отсутствующего значения: Опциональные значения позволяют явно указать, что значение может быть
   отсутствующим, в отличие от использования null. Это улучшает читаемость кода и помогает избежать неожиданного
   поведения.

4. Цепочки вызовов: Optional<T> предоставляет удобные методы для выполнения цепочек вызовов, что упрощает работу со
   значениями, даже если они могут быть отсутствующими. Например, можно использовать методы `map()`, `flatMap()`
   и `orElse()` для выполнения действий со значением, если оно присутствует, или выполнения альтернативных действий,
   если значение отсутствует.

5. Обработка значений по умолчанию: Optional<T> предоставляет методы, которые позволяют вернуть значение по умолчанию,
   если оно отсутствует. Например, метод `orElse()` возвращает значение, если оно присутствует, или значение по
   умолчанию, если оно отсутствует.

## Перечислите и опишите методы класса `Optional<T>`

1. `empty()`: Статический метод, который возвращает пустой `Optional`. Это означает, что внутри `Optional` нет значения.

2. `of(T value)`: Статический метод, который создает `Optional`, содержащий указанное значение `value`. Значение `value`
   не должно быть равно `null`.

3. `ofNullable(T value)`: Статический метод, который создает `Optional`, содержащий указанное значение `value`.
   Значение `value` может быть как непустым, так и `null`.

4. `get()`: Метод, который возвращает значение, содержащееся в `Optional`. Если `Optional` пустой, то будет выброшено
   исключение `NoSuchElementException`. Рекомендуется предварительно проверять наличие значения методом `isPresent()`
   или использовать безопасные методы `orElse()` или `orElseGet()`.

5. `ifPresent(Consumer<? super T> consumer)`: Метод, который выполняет указанное действие `consumer` над
   значением `Optional`, если оно присутствует. В противном случае, ничего не делает.

6. `isPresent()`: Метод, который возвращает `true`, если внутри `Optional` есть значение, и `false`, если `Optional`
   пустой.

7. `orElse(T other)`: Метод, который возвращает значение, содержащееся в `Optional`, если оно присутствует.
   Если `Optional` пустой, то возвращается указанное значение `other`.

8. `orElseGet(Supplier<? extends T> supplier)`: Метод, который возвращает значение, содержащееся в `Optional`, если оно
   присутствует. Если `Optional` пустой, то возвращается результат вызова функционального интерфейса `Supplier`,
   переданного в метод.

9. `orElseThrow(): <X extends Throwable> T`: Метод, который возвращает значение, содержащееся в `Optional`, если оно
   присутствует. Если `Optional` пустой, то выбрасывается исключение `NoSuchElementException`.

10. `filter(Predicate<? super T> predicate)`: Метод, который возвращает `Optional`, содержащий значение из
    текущего `Optional`, если оно удовлетворяет условию, заданному предикатом `predicate`. Если значение не
    удовлетворяет условию или `Optional` пустой, то возвращается пустой `Optional`.

11. `map(Function<? super T, ? extends U> mapper)`: Метод, который преобразует значение, содержащееся в `Optional`, с
    помощью функции `mapper`. Возвращает новый `Optional`, содержащий преобразованное значение, или пустой `Optional`,
    если исходный `Optional` пустой.

12. `flatMap(Function<? super T, Optional<U>> mapper)`: Метод, который преобразует значение, содержащееся в `Optional`,
    с помощью функции `mapper`. Возвращает новый `Optional`, содержащий преобразованное значение, или пустой `Optional`,
    если исходный `Optional` пустой. Разница между `flatMap()` и `map()` состоит в том, что функция `mapper` должна
    возвращать `Optional`.

## В чем отличие методов `of(T value)` и `ofNullable(T value)?`

Методы `of(T value)` и `ofNullable(T value)` в классе `Optional<T>` в Java имеют различное поведение, когда
передается `null` в качестве аргумента `value`.

1. `of(T value)`:
    - Принимает непустое значение `value`.
    - Если значение `value` является `null`, метод `of()` выбрасывает исключение `NullPointerException`.
    - Используется, когда вы уверены, что значение не является `null` и хотите создать `Optional`, содержащий это
      значение.

2. `ofNullable(T value)`:
    - Принимает значение `value`, которое может быть и `null`.
    - Если `value` является `null`, то метод `ofNullable()` создает пустой `Optional`.
    - Используется, когда значение может быть как непустым, так и `null`, и вы хотите создать
      соответствующий `Optional`.

## В чем отличие методов `orElse(T other)` и `orElseGet(Supplier<? extends T> supplier)`?

Методы `orElse(T other)` и `orElseGet(Supplier<? extends T> supplier)` в классе `Optional<T>` в Java предоставляют
способы получения значения из `Optional`, когда оно присутствует, или возврата значения по умолчанию, когда `Optional`
пустой. Однако у них есть различия в том, как обрабатывается значение по умолчанию.

1. `orElse(T other)`:
    - Возвращает значение, содержащееся в `Optional`, если оно присутствует.
    - Если `Optional` пустой, то возвращает значение `other`, переданное в качестве аргумента метода.
    - Значение `other` вычисляется всегда, независимо от состояния `Optional`.

2. `orElseGet(Supplier<? extends T> supplier)`:
    - Возвращает значение, содержащееся в `Optional`, если оно присутствует.
    - Если `Optional` пустой, то вызывается функция `supplier`, переданная в качестве аргумента метода, для получения
      значения по умолчанию.
    - Значение по умолчанию вычисляется только в случае, когда `Optional` пустой.

Таким образом, метод `orElse` вычисляет значение по умолчанию всегда, а `orElseGet` лишь в том случае, если `Optional`
пуст.
